<!DOCTYPE html>
<html lang="ja">
<head>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script src="firebase-init.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Part3: è‹¦æ‰‹ãªå ´é¢ã®æ•´ç†</title>
  <style>
    /* ---------- åŸºæœ¬æ ·å¼ï¼ˆä¿ç•™ä½ åŸæ¥çš„é£æ ¼ï¼‰ ---------- */
    body {
      font-family: "Arial", sans-serif;
      background-color: #FBF1F0;
      color: #5C4545;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    h2 {
      text-align: center;
      color: #FA7DAD;
      margin: 20px;
    }

    /* å¼•å¯¼è¯­ */
    .intro-text {
      text-align: center;
      max-width: 700px;
      margin: 0 auto 10px;
      line-height: 1.8;
      color: #7a5c5c;
      font-size: 1.05em;
      opacity: 0;
      animation: fadeIn 1.8s ease forwards;
      animation-delay: 0.5s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .container {
      flex: 1;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      padding: 20px;
      height: 70vh;
    }

    /* å·¦ä¾§åŸæ ‡ç­¾åŒº */
    .notes {
      width: 30%;
      padding: 10px;
      overflow-y: auto;
    }

    /* å•ä¸ªæ ‡ç­¾æ ·å¼ï¼ˆç‚¹å‡»ä¼šç”Ÿæˆå‰¯æœ¬ï¼‰ */
    .note {
      background: #ffdee4;
      border: 1px solid #f2a9c2;
      border-radius: 8px;
      padding: 10px;
      margin: 10px 0;
      cursor: pointer;
      text-align: center;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
      position: relative;
      user-select: none;
      /* responsive font */
      font-size: calc(12px + 0.4vw);
      line-height: 1.4;
    }

    .note:active { cursor: grabbing; }

    .custom-note {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .custom-note input {
      flex: 1;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #f2a9c2;
      font-size: calc(12px + 0.4vw);
      background: transparent;
      color: #5C4545;
    }

    .custom-note button {
      padding: 8px 10px;
      border-radius: 8px;
      border: none;
      background: #ffd9e3;
      color: #6b5948;
      cursor: pointer;
    }

    /* å³ä¾§åæ ‡è½´åŒºåŸŸ */
    .axis-area {
      width: 65%;
      position: relative;
      border: 2px solid #FA7DAD;
      border-radius: 12px;
      background: #fff;
      overflow: hidden;
      min-height: 340px;
    }

    .axis-line-x, .axis-line-y {
      position: absolute;
      background: #FA7DAD;
    }
    .axis-line-x {
      top: 50%;
      left: 0;
      height: 2px;
      width: 100%;
    }
    .axis-line-y {
      left: 50%;
      top: 0;
      width: 2px;
      height: 100%;
    }

    .axis-label {
      position: absolute;
      font-size: 16px;
      font-weight: bold;
      color: #FA7DAD;
      background: #FBF1F0;
      padding: 2px 6px;
      border-radius: 6px;
    }
    .label-top { top: 5px; left: 50%; transform: translateX(-50%); }
    .label-bottom { bottom: 5px; left: 50%; transform: translateX(-50%); }
    .label-left { left: 5px; top: 50%; transform: translateY(-50%); }
    .label-right { right: 5px; top: 50%; transform: translateY(-50%); }

    /* åœ¨ axis-area å†…å‡ºç°çš„å®é™…ä¾¿ç­¾ï¼ˆabsoluteï¼‰ */
    .axis-note {
      position: absolute;
      background: #ffdee4; /* ä¿ç•™ç²‰è‰²é£æ ¼ */
      border: 1px solid #f2a9c2;
      border-radius: 8px;
      padding: 8px;
      min-width: 110px;
      max-width: 36vw;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.12);
      touch-action: none; /* è®© touchmove æ›´ç¨³å®š */
      font-size: calc(12px + 0.5vw); /* æ ¹æ®å±å¹•è‡ªåŠ¨ç¼©æ”¾ */
      line-height: 1.2;
      display: flex;
      gap: 6px;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    /* åˆ é™¤æŒ‰é’®ï¼ˆå¦‚æœéœ€è¦ä»¥åå¯åŠ ï¼‰ */
    .axis-note .delete-inline {
      position: absolute;
      top: 4px;
      right: 6px;
      border: none;
      background: transparent;
      font-size: 1rem;
      cursor: pointer;
      color: #a85b76;
    }

    .finish-btn {
      margin: 20px auto;
      background: #FA7DAD;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 24px;
      cursor: pointer;
      transition: 0.3s;
      display: block;
    }
    .finish-btn:hover { background: #f95d9f; }

    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(251, 241, 240, 0.95);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.6s ease;
      z-index: 10;
    }

    .overlay.active { opacity: 1; visibility: visible; }

    .overlay-content {
      background: #fff;
      padding: 30px;
      border-radius: 16px;
      max-width: 800px;
      text-align: left;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.15);
      line-height: 1.7;
      color: #5C4545;
    }

    .overlay-content h3 {
      color: #FA7DAD;
      margin-bottom: 15px;
      text-align: center;
    }

    .next-btn {
      margin-top: 20px;
      background: #FA7DAD;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 20px;
      cursor: pointer;
      transition: 0.3s;
      display: block;
    }
    .next-btn:hover { background: #f95d9f; }

    /* å“åº”å¼ï¼šæ‰‹æœºç«¯å¾®è°ƒ */
    @media (max-width: 768px) {
      .container { flex-direction: column; align-items: center; height: auto; }
      .notes, .axis-area { width: 100%; margin-bottom: 15px; }
      .axis-area { height: 56vh; }
      .note { font-size: calc(12px + 1.2vw); padding: 8px; }
      .axis-note { font-size: calc(10px + 1.4vw); max-width: 46vw; }
    }
  </style>
</head>
<body>
  <h2>ğŸŒ¸ è‹¦æ‰‹ãªå ´é¢ã‚’æ•´ç†ã—ã¦ã¿ã‚ˆã† ğŸŒ¸</h2>

  <p class="intro-text">
    ã‚ãªãŸã¯ä»Šã¾ã§ã«ã€æ¬¡ã®ã‚ˆã†ãªã€Œè‹¦æ‰‹ã ãªã€ã¨æ„Ÿã˜ãŸå ´é¢ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ<br>
    å·¦ã®ãƒ©ãƒ™ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€åº§æ¨™è»¸ã®ä¸­å¤®ã«ãã®ãƒ¡ãƒ¢ãŒä½œæˆã•ã‚Œã¾ã™ã€‚<br>
    ä½œæˆå¾Œã¯ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å››è±¡é™ã®ã©ã“ã«ç½®ãã‹è‡ªç”±ã«èª¿æ•´ã—ã¦ãã ã•ã„ã€‚<br>
    ã‚‚ã¡ã‚ã‚“ã€æ–°ã—ã„å ´é¢ã‚‚è¿½åŠ ã§ãã¾ã™ğŸŒ·
  </p>

  <div class="container">
    <div class="notes" id="notes">
      <div class="note" data-label="1. å¤§å‹¢ã®å‰ã§ç™ºè¡¨ã™ã‚‹">1. å¤§å‹¢ã®å‰ã§ç™ºè¡¨ã™ã‚‹</div>
      <div class="note" data-label="2. è¦‹ã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ³ã§ä½œæ¥­ã™ã‚‹">2. è¦‹ã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ³ã§ä½œæ¥­ã™ã‚‹</div>
      <div class="note" data-label="3. çŸ¥ã‚‰ãªã„äººã¨é•·æ™‚é–“ä¸€ç·’ã«ã„ã‚‹">3. çŸ¥ã‚‰ãªã„äººã¨é•·æ™‚é–“ä¸€ç·’ã«ã„ã‚‹</div>
      <div class="note" data-label="4. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã£ã¦ã“ãªã„">4. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã£ã¦ã“ãªã„</div>
      <div class="note" data-label="5. é¨’éŸ³ã®ä¸­ã§ä¼‘ã‚€">5. é¨’éŸ³ã®ä¸­ã§ä¼‘ã‚€</div>
      <div class="note" data-label="6. åˆºæ¿€çš„ãªæ˜ åƒã‚’è¦‹ã‚‹">6. åˆºæ¿€çš„ãªæ˜ åƒã‚’è¦‹ã‚‹</div>

      <div class="note custom-note" id="customNote">
        <input id="customInput" type="text" placeholder="â• ã‚ãªãŸè‡ªèº«ã®å ´é¢ã‚’è¿½åŠ " />
        <button id="customAddBtn">è¿½åŠ </button>
      </div>
    </div>

    <div class="axis-area" id="axis-area">
      <div class="axis-line-x"></div>
      <div class="axis-line-y"></div>
      <div class="axis-label label-top">å¿ƒç†</div>
      <div class="axis-label label-bottom">ç”Ÿç†</div>
      <div class="axis-label label-left">å†…å› </div>
      <div class="axis-label label-right">å¤–å› </div>
    </div>
  </div>

  <button class="finish-btn" id="finishBtn">å®Œæˆ âœ¨</button>

  <div class="overlay" id="overlay">
    <div class="overlay-content">
      <h3>ğŸŒ± é«˜æ„Ÿå—æ€§ç—‡çŠ¶ã¯ãªãœç”Ÿã˜ã‚‹ã®ã‹ï¼Ÿ</h3>
      <p><strong>ç”Ÿç†çš„è¦å› ãŒä¸€éƒ¨ã®äººã‚’æ•æ„Ÿã«ã™ã‚‹</strong><br>
      ç¾åœ¨ã®ç ”ç©¶ã§ã¯ã€æ•æ„Ÿã•ã¯ç”Ÿã¾ã‚Œã¤ãã®äººæ ¼ç‰¹æ€§ã§ã‚ã‚Šã€ç”Ÿç†çš„è¦å› ãŒå¼·ãé–¢ä¿‚ã—ã¦ã„ã¾ã™ã€‚</p>

      <p><strong>éºä¼å­ãŒäººã®æ•æ„Ÿã•ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹</strong><br>
      ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ã‚¿ãƒ¼éºä¼å­ãªã©ãŒæ„Ÿå—æ€§ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</p>

      <p><strong>è„³ã®æ´»å‹•ã¨æ•æ„Ÿã•</strong><br>
      fMRIãªã©ã®ç ”ç©¶ã§ä¸€éƒ¨ã®è„³é ˜åŸŸãŒé«˜æ„Ÿå—æ€§è€…ã§æ´»æ€§åŒ–ã™ã‚‹ã“ã¨ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</p>

      <p>å…ˆå¤©çš„ç‰¹æ€§ã‚’ç†è§£ã—ã€è‡ªåˆ†ãªã‚Šã®ä»˜ãåˆã„æ–¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚</p>

      <button class="next-btn" onclick="window.location.href='4.html'">ğŸ‘‰ æ¬¡ã¸</button>
    </div>
  </div>

  <script>
    /* ----------------- DOM å…ƒç´  ----------------- */
    const notesList = document.querySelectorAll(".notes .note:not(.custom-note)");
    const axisArea = document.getElementById("axis-area");
    const notesContainer = document.getElementById("notes");
    const customAddBtn = document.getElementById("customAddBtn");
    const customInput = document.getElementById("customInput");
    const finishBtn = document.getElementById("finishBtn");
    const overlay = document.getElementById("overlay");

    /* ---------- å·¥å…·ï¼šé™å®šä½ç½®ï¼ˆåœ¨ axis å†…ï¼‰ ---------- */
    function clampPosition(x, y, el) {
      const areaRect = axisArea.getBoundingClientRect();
      const w = el.offsetWidth;
      const h = el.offsetHeight;

      // é™åˆ¶åœ¨ axis å†…ï¼Œç•™ä¸€ç‚¹å†…è¾¹è·
      const minX = 6; 
      const minY = 6;
      const maxX = Math.max(areaRect.width - w - 6, minX);
      const maxY = Math.max(areaRect.height - h - 6, minY);

      const clampedX = Math.max(minX, Math.min(x, maxX));
      const clampedY = Math.max(minY, Math.min(y, maxY));
      return { x: clampedX, y: clampedY };
    }

    /* ---------- åœ¨ axis ä¸­åˆ›å»ºä¾¿ç­¾ï¼ˆå¤ç”¨å‡½æ•°ï¼‰ ---------- */
    function createAxisNote(text, clientX = null, clientY = null) {
      const areaRect = axisArea.getBoundingClientRect();
      const note = document.createElement("div");
      note.className = "axis-note";
      note.textContent = text;

      // æ·»åŠ åˆ é™¤æŒ‰é’®ï¼ˆå¯é€‰ï¼‰ï¼Œè¿™é‡Œä¿ç•™ä½†éšè—æ ·å¼æœªå±•ç¤ºï¼›è‹¥æƒ³æ˜¾ç¤ºå¯ä»¥å–æ¶ˆæ³¨é‡Šæ ·å¼
      // const del = document.createElement('button'); del.className='delete-inline'; del.textContent='Ã—'; note.appendChild(del);
      note.setAttribute("draggable", "true");

      // åˆå§‹ä½ç½®ï¼šå¦‚æœç»™äº† client åæ ‡åˆ™ä»¥é‚£ç‚¹ä¸ºä¸­å¿ƒï¼Œå¦åˆ™æ”¾åœ¨ axis ä¸­å¤®
      let left, top;
      if (clientX !== null && clientY !== null) {
        left = clientX - areaRect.left - note.offsetWidth / 2;
        top = clientY - areaRect.top - note.offsetHeight / 2;
      } else {
        // æ”¾ä¸­å¤®ï¼ˆå‡å»ä¸€åŠå¤§æ¦‚å±…ä¸­ï¼‰
        left = (areaRect.width - 160) / 2; // 160 æ˜¯ä¼°ç®—åˆå§‹å®½åº¦
        top = (areaRect.height - 40) / 2;
      }

      // append å…ˆä½¿ offsetWidth/height ç”Ÿæ•ˆï¼Œå†ä¿®æ­£ä½ç½®
      axisArea.appendChild(note);
      // clamp
      const clamped = clampPosition(left, top, note);
      note.style.left = clamped.x + "px";
      note.style.top = clamped.y + "px";

      // ä¸ºæ–°ä¾¿ç­¾æ·»åŠ  PC æ‹–æ‹½ä¸è§¦æ‘¸äº‹ä»¶
      addDragHandlersToAxisNote(note);
      return note;
    }

    /* ---------- å·¦ä¾§æ ‡ç­¾ç‚¹å‡»ï¼šåœ¨ axis ä¸­åˆ›å»ºä¾¿ç­¾ï¼ˆå¤åˆ¶ï¼‰ ---------- */
    notesList.forEach(label => {
      label.addEventListener("click", (e) => {
        const text = label.dataset.label || label.textContent;
        createAxisNote(text);
      });
    });

    /* ---------- custom-note çš„ã€Œè¿½åŠ ã€æŒ‰é’® ---------- */
    customAddBtn.addEventListener("click", () => {
      const val = customInput.value.trim();
      if (!val) {
        alert("ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
        return;
      }
      createAxisNote(val);
      customInput.value = "";
    });

    /* ---------- ä¿æŒåŸç”Ÿ drag/dropï¼ˆPCï¼‰æ”¯æŒ ---------- */
    // å½“ axis-note è¢«æ‹–æ‹½æ—¶ï¼Œè®°å½•æ­£åœ¨æ‹–æ‹½å…ƒç´ 
    let currentDrag = null;

    // ç»™ axis ä¸­å·²æœ‰æˆ–æ–°å¢çš„ä¾¿ç­¾æ·»åŠ  drag handlers çš„å‡½æ•°
    function addDragHandlersToAxisNote(note) {
      // HTML5 drag
      note.addEventListener("dragstart", (ev) => {
        currentDrag = note;
        // è®¾ç½®ä¸€ä¸ªç©ºçš„æ‹–æ”¾æ•°æ®ä»¥å¯åŠ¨ drag
        try { ev.dataTransfer.setData("text/plain", ""); } catch(e){}
        // ç”¨é€æ˜çš„æ‹–åŠ¨å›¾ï¼ˆé¿å…æœ‰é»˜è®¤é•œåƒï¼‰
        if (ev.dataTransfer && ev.dataTransfer.setDragImage) {
          const crt = note.cloneNode(true);
          crt.style.position = "absolute";
          crt.style.top = "-9999px";
          document.body.appendChild(crt);
          ev.dataTransfer.setDragImage(crt, crt.offsetWidth/2, crt.offsetHeight/2);
          setTimeout(()=>document.body.removeChild(crt), 0);
        }
      });

      // drop ç›®æ ‡æ˜¯ axisAreaï¼šå·²åœ¨ä¸‹æ–¹ç»Ÿä¸€å¤„ç†ï¼ˆaxisArea dropï¼‰
      // touch äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯ï¼‰
      note.addEventListener("touchstart", touchStartForNote, { passive: false });
      note.addEventListener("touchmove", touchMoveForNote, { passive: false });
      note.addEventListener("touchend", touchEndForNote);
    }

    // å…è®¸ axisArea æ¥å—æ‹–æ”¾
    axisArea.addEventListener("dragover", (e) => { e.preventDefault(); });
    axisArea.addEventListener("drop", (e) => {
      e.preventDefault();
      if (!currentDrag) return;

      const areaRect = axisArea.getBoundingClientRect();
      const x = e.clientX - areaRect.left - currentDrag.offsetWidth/2;
      const y = e.clientY - areaRect.top - currentDrag.offsetHeight/2;
      const clamped = clampPosition(x, y, currentDrag);
      currentDrag.style.left = clamped.x + "px";
      currentDrag.style.top = clamped.y + "px";
      axisArea.appendChild(currentDrag);
      currentDrag = null;
    });

    /* ---------- åˆå§‹å°†é¡µé¢å·¦ä¾§å·²æœ‰ï¼ˆé customï¼‰ä¾¿ç­¾åŒæ—¶å…è®¸æ‹–ï¼ˆå¯é€‰ï¼‰ ---------- */
    // åŸå…ˆä½ å¸Œæœ›å·¦ä¾§æ˜¯ç‚¹å‡»ç”Ÿæˆå‰¯æœ¬ï¼ˆAï¼‰ã€‚å¦‚æœä¹Ÿæƒ³è®©å·¦ä¾§æ ‡ç­¾å¯ä»¥æ‹–åŠ¨å¹¶ç›´æ¥æ”¾åˆ° axisï¼Œè¿™é‡Œæš‚æ—¶ä¸æ”¹å˜è¡Œä¸ºï¼ˆä¿æŒç‚¹å‡»å¤åˆ¶ï¼‰ã€‚
    // è‹¥éœ€è¦å·¦ä¾§ä¹Ÿå¯ç›´æ¥æ‹–æ‹½åˆ° axisï¼Œæˆ‘ä»¬å¯ä»¥ later åŠ ä¸Š dragstart ç»™å·¦ä¾§æ ‡ç­¾â€”â€”ç°åœ¨ä¿ç•™ä¸ºâ€œç‚¹å‡»å¤åˆ¶â€ã€‚

    /* ---------- TOUCH æ‹–æ‹½ï¼šä¸º axis-note æä¾›ç§»åŠ¨é€»è¾‘ ---------- */
    let touchState = {
      el: null,
      startX: 0,
      startY: 0,
      origLeft: 0,
      origTop: 0
    };

    function touchStartForNote(e) {
      e.stopPropagation();
      const touch = e.touches[0];
      touchState.el = e.target.closest(".axis-note");
      if (!touchState.el) return;
      const rect = touchState.el.getBoundingClientRect();
      const areaRect = axisArea.getBoundingClientRect();

      touchState.startX = touch.clientX;
      touchState.startY = touch.clientY;
      // ç›¸å¯¹äº axis å·¦ä¸Šè§’çš„åŸå§‹ä½ç½®
      touchState.origLeft = rect.left - areaRect.left;
      touchState.origTop = rect.top - areaRect.top;

      // æé«˜ z-index
      touchState.el.style.zIndex = 999;
    }

    function touchMoveForNote(e) {
      if (!touchState.el) return;
      const touch = e.touches[0];
      const dx = touch.clientX - touchState.startX;
      const dy = touch.clientY - touchState.startY;

      const newLeft = touchState.origLeft + dx;
      const newTop = touchState.origTop + dy;

      const clamped = clampPosition(newLeft, newTop, touchState.el);
      touchState.el.style.left = clamped.x + "px";
      touchState.el.style.top = clamped.y + "px";

      // é˜»æ­¢é¡µé¢æ»šåŠ¨
      e.preventDefault();
    }

    function touchEndForNote(e) {
      if (!touchState.el) return;
      touchState.el.style.zIndex = 1;
      touchState = { el: null, startX:0, startY:0, origLeft:0, origTop:0 };
    }

    /* ---------- ä¸ºå·²æœ‰ axis-noteï¼ˆå¦‚æœé¡µé¢ reload æœ‰æ®‹ç•™ï¼‰æ·»åŠ  handlerï¼ˆé¡µé¢åˆå§‹æ— ï¼‰ ---------- */
    // none

    /* ---------- è§£å†³â€œåªæœ‰å³è¾¹å¸é™„ã€å·¦è¾¹é£å‡ºâ€çš„é—®é¢˜ï¼š
         clampPosition() å·²ç¡®ä¿æ–°ä½ç½®è¢«é™åˆ¶åœ¨ axis å†…ã€‚æ— è®ºæ‹–åŠ¨åˆ°å“ªè¾¹éƒ½ä¼šè¢«é™åˆ¶ã€‚ ---------- */

    /* ---------- ç‚¹å‡» axis å†…ç©ºç™½å¤„ä¹Ÿå¯ä»¥æ”¾ç½®ï¼ˆå¯é€‰ï¼Œæš‚æœªå¯ç”¨ï¼‰ ---------- */

    /* ---------- finish æŒ‰é’® ---------- */
    finishBtn.addEventListener("click", () => {
      overlay.classList.add("active");
      const card = overlay.querySelector(".overlay-content");
      card.scrollIntoView({ behavior: "smooth", block: "center" });
    });

    /* ---------- å¯é€‰ï¼šæŒ‰ Enter ä¹Ÿå¯ä»¥æäº¤ custom è¾“å…¥ ---------- */
    customInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        customAddBtn.click();
      }
    });

    /* ---------- æœ€åï¼šå…¼å®¹æ€§å¢å¼ºï¼ˆç»™æœªæ¥å¯èƒ½åŠ¨æ€åˆ›å»ºçš„å…ƒç´ ç»‘å®š handlerï¼‰ ---------- */
    // ç”±äºåˆ›å»ºæ—¶æˆ‘ä»¬åœ¨ createAxisNote ä¸­ç›´æ¥è°ƒç”¨ addDragHandlersToAxisNoteï¼Œ
    // å› æ­¤æ¯ä¸ªæ–°å¢å…ƒç´ éƒ½æœ‰ touch ä¸ drag æ”¯æŒã€‚

    /* ---------- Tipsï¼šå¦‚æœä½ æƒ³æŠŠå·¦ä¾§æ ‡ç­¾ä¹Ÿèƒ½ç›´æ¥æ‹–åŠ¨åˆ° axisï¼ˆè€Œä¸æ˜¯ç‚¹å‡»å¤åˆ¶ï¼‰ï¼Œ
         æˆ‘å¯ä»¥å¢åŠ  dragstart ç»™å·¦ä¾§ .note å¹¶åœ¨ drop æ—¶åˆ¤æ–­æ¥æºã€‚
         ä½†ç°åœ¨æŒ‰ä½ é€‰æ‹©çš„ Aï¼šç‚¹å‡»å¤åˆ¶å®ç°ã€‚ ---------- */
  </script>

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script src="firebase-init.js"></script>

  <!-- ä½ çš„å…¨ç«™é€šç”¨è¯„è®ºç³»ç»Ÿ -->
  <script src="comment.js"></script>

</body>
</html>
